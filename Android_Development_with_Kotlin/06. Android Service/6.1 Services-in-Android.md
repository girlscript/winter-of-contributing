## Services in Android ##

### Service ###
<p>These are the steps that are running in the background for long time or small time, sometimes even if the program is destroyed that was started.Whenever any application component is started, **startService()** is started.</p>
<p>The aim here is to make sure that application remains active in the background so that user can switch to different tasks making it as **Multitasking**.</p>
<br>
<p>An example can be a user is playing music, performing other tasks this can be done alltogether thanks to **Services**</p>

### Bound ###
<p>By calling *bindService() it offers a client-server interface that allows components to interact with service, send request, and even processes with IPC or interprocess communication*</p>
<p>You can see below that how an android service is started with *startService()* and *bindService()*</p>
<p>
<img src="https://www.tutorialspoint.com/android/images/services.jpg">
</p>

<hr>

### Callbacks Explained ###

- **onCreate()**
  <p>This function marks the starting of any process, such as an activity, requests etc.</p>
<br>

- **onStart()**  
  <p>System starts calling this method as soon as the service is started, after implementation of this method it is mandatory to stop this.</p>
<br>

- **onDestroy()**
 <p>When service is no longer running or used the process is destroyed with this method.It is compulsory to implement this as clean up process of resources is mandatory for better memory management</p>
 <br>

- **onBind()**
  <p>When another components want to bind the service the system calls this method.To communicate with another interface an *IBinder* object must be returned.Return *Null* if no binding is allowed</p>
  <br>

- **onRebind()**
  <p>When new clients have connected to the service, it had previously been notified that all had discontinued in its Intent(purpose)</p>
  <br>

**Below is an implementation of Above methods using Kotlin**

`package com.tutorialspoint;

import android.app.Service;
import android.os.IBinder;
import android.content.Intent;
import android.os.Bundle;

public class HelloService extends Service {
   
   /** indicates how to behave if the service is killed */
   int mStartMode;
   
   /** interface for clients that bind */
   IBinder mBinder;     
   
   /** indicates whether onRebind should be used */
   boolean mAllowRebind;

   /** Called when the service is being created. */
   @Override
   public void onCreate() {
     
   }

   /** The service is starting, due to a call to startService() */
   @Override
   public int onStartCommand(Intent intent, int flags, int startId) {
      return mStartMode;
   }

   /** A client is binding to the service with bindService() */
   @Override
   public IBinder onBind(Intent intent) {
      return mBinder;
   }

   /** Called when all clients have unbound with unbindService() */
   @Override
   public boolean onUnbind(Intent intent) {
      return mAllowRebind;
   }

   /** Called when a client is binding to the service with bindService()*/
   @Override
   public void onRebind(Intent intent) {

   }

   /** Called when The service is no longer used and is being destroyed */
   @Override
   public void onDestroy() {

   }
}`

### Types of service ###

<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/20200911235638/Typesofandroidservices-660x404.png"></p>

- **Foreground Services**:
<p>An ongoing operation can be coined as **Foreground Services**.When you use whatsapp or any other music app the notification that pops up at notification bar can be seen that comes under this category. This notification cannot be dismissed unless the service is either stopped or removed from the foreground.</p>
<p align="center"><img src="https://www.androidpolice.com/wp-content/themes/ap2/ap_resize/ap_resize.php?src=https%3A%2F%2Fwww.androidpolice.com%2Fwp-content%2Fuploads%2F2017%2F03%2Fnexus2cee_Screenshot_20170321-111732.png&w=728"></p>
<br>

- **Background Services**:
<p>As the name suggests obviously this service is not visible to human eye and user can not see or know about it.For example just take a big zip or rar file and try to decompress it, till then minimise the task windows, what happens is you won't be able to see any task happening but after sometime when you go there the task has been completed.</p>
<br>

- **Bound Services**:
<p>When an application combines itself to bindService() the service is called as **Bound**.Bound services perform their task as long as any application component is bound to it. </p>
<br>

### Threads in Android ###
 <p>A **thread** is simply a *thread* od execution in a program.The **JVM** allows an application to have multiple thread running concurrently.When code running in some thread creates a new Thread object, the new thread has its priority initially set equal to the priority of the creating thread, and is a daemon thread if and only if the creating thread is a daemon.</p>
<br>

 ###  Choosing between Threads and Services ###

<p>It comes down to this what to choose between thread and services.</p>
<p>A service is always made to run task independent of the **Activity**, it allowas to run task in background.This runs main UI thread where we want to perform any network or heavy load operation then there we have to use **Thread**</p>
<br>
**Example**
<p>Suppose you wanna take backup of your important data daily automatically then you would need a **Service** to run in background</p>
<p>**Threads** might be used when you run your task in its own thread of main UI thread.This is used when any heavy taskt is done like any network opeartion like using instagram where data and bytes is to be sent and recieved via server continously, which is ultimately associated with **Android Components**.</p>

<hr>

For more info on service or related information, you can visit the fficial Android doc [here](https://developer.android.com/guide/components/services)